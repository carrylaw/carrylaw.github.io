<!DOCTYPE html>
<html lang="en-us">

	<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      数分学长的博客
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="/public/css/minddust.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
	
	<!--typeahead-->
  <link rel="stylesheet" href="/public/css/jquery.typeahead.css">
  <link rel="stylesheet" href="/public/css/style.css">
  <script src="https://cdn.bootcss.com/jquery/2.1.0/jquery.min.js"></script>
  <script src="https://cdn.bootcss.com/waypoints/4.0.1/jquery.waypoints.min.js"></script>
  <script src="/public/js/jquery.typeahead.js"></script>
  <script src="/public/js/tools.js"></script>

</head>


	<body>

		<!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p><font size="5" color="darkgray" face="times new roman">Carry.law</font></p>
	<p><font size="2" color="darkgray" face="微软雅黑">一枚最不像数分师的数据分析师</font></p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">主页</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">关于</a>
        
      
    
      
    
      
    
      
        
      
    
    <a class="sidebar-nav-item" id="articles" expanded='true'>博文馆</a>
   	
      
		<a class="sidebar-nav-item category-name-show" name="category-name" href="/blog/category/anlp/">- 自然语言处理</a>
    
		<a class="sidebar-nav-item category-name-show" name="category-name" href="/blog/category/bmarchine/">- 机器学习</a>
    
		<a class="sidebar-nav-item category-name-show" name="category-name" href="/blog/category/cdeep/">- 深度学习</a>
    
		<a class="sidebar-nav-item category-name-show" name="category-name" href="/blog/category/emysql/">- 数据库技术</a>
    
		<a class="sidebar-nav-item category-name-show" name="category-name" href="/blog/category/ynews/">- 相关资讯</a>
    
    <span class="sidebar-nav-item">&copy; 2017. All rights reserved.</span>
  </nav>
</div>


		<!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
		<div class="wrap">
			<div class="masthead">
				<div class="container">
					<h3 class="masthead-title">
					<img width="30" src="/public/logo.png" style="display: inline-block; margin: 0 !important; vertical-align: text-bottom;"/>						
					
    					<a href="/" title="Home">数分学长</a>
			            <small class="font-kt">的博客</small>
    				
			        </h3>
				<nav class="nav-top">
	<ul class="text-xs-center">
		<li>
			<!--检索框-->
			<form id="search-bar" action="/search" target="_blank" onsubmit="encodeKeyword()">
	<div class="typeahead__container">
		<div class="typeahead__field">

			<span class="typeahead__query">
                <input class="js-typeahead"
                       name="q"
                       type="search"
                       autocomplete="off">
            </span>
			<span class="typeahead__button" hidden="hidden">
                <button type="submit">
                    <span class="typeahead__search-icon"></span>
				</button>
			</span>

		</div>
	</div>
</form>    
		</li>
		<li><a href="#" id="search-btn" class="label label-darkblue tooltip" title="search"><span class="icon icon-search"></span></a></li>
		<li class="site-name"><a href="/" class="label label-darkblue character">数分学长</a></li>
		<li><a href="/atom.xml" class="label label-darkblue tooltip" title="RSS" target="_blank"><span class="icon icon-rss"></span></a></li>
		<li><a href="https://github.com/carrylaw" class="label label-darkblue tooltip" title="GitHub" target="_blank"><span class="icon icon-github"></span></a></li>
	</ul>
</nav>

<!--		<li><a href="http://www.jianshu.com/u/5caa2bf26f9b" class="label label-darkblue tooltip" title="jianshu" target="_blank"><span class="icon icon-jian"></span></a></li>-->
				</div>
			</div>

			<div class="container content">
				<div class="posts">
	<div class="post" hidden></div>
</div>
<script>
	/**
	 * get the param from url
	 * 
	 * @param {Object} name
	*/
	function getQueryString(name) {
		var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
		var r = window.location.search.substr(1).match(reg);
		if(r != null) return unescape(r[2]);
		return null;
	}
	var keyword = decodeURI(decodeURI(getQueryString('q')));
	var pageNum = 0;
	var perPageItem = 10;
	var startNum = 0;
	var endNum = 10 + perPageItem*pageNum;
	var totalNum = 0;
	var $loading = $("<div class='loading' style='text-align:center !important;'><img src='/public/img/loading.gif'></div>");
	
	var articles;
	$.getJSON("/public/json/search.json").done(function(data) {
		articles = data;
		getArticles();
	});
	
	function getArticles() {
		$('div.posts').append($loading);
		var htmlArr = new Array();
		var currentData = null;
		totalNum = articles.length;
		endNum = endNum>totalNum?totalNum:endNum;
		for(var i=startNum; i<endNum;i++){
			currentData = articles[i];
			if(!matchKeyword(currentData)) continue;
			htmlArr.push('<div class="post">');
			htmlArr.push('<h1 class="post-title">');
			htmlArr.push('<a href="');
			htmlArr.push(currentData.url);
			htmlArr.push('">');
			htmlArr.push(currentData.title);
			htmlArr.push('</a></h1>');
			htmlArr.push('<span class="post-date"></span>');
			htmlArr.push(currentData.date);
			htmlArr.push('</span>');
			htmlArr.push('<div class="post-content">');
			htmlArr.push(currentData.excerpt);
			htmlArr.push('</div></div>');
		}
		$('div.loading').remove();
		$('.posts').append(htmlArr.join('').toString());
		createWaypoint();
	}
	
	function createWaypoint() {
		$('div.posts div.post:last').waypoint(function(direction) {
			if(startNum==endNum) {
				this.destroy();
				return; //all articles have been loaded
			}
			if(direction == "down") {
				increment();
				this.destroy();
				getArticles();
			}
		}, {
			offset: 'bottom-in-view'
		});
	}
	
	/**
	 * check whether the article matches the keyword 
	 * @param {Object} post
	 */
	function matchKeyword(post){
		var contentAll = new Array();
		contentAll.push(post.title);
		contentAll.push(post.tag);
		contentAll.push(post.category);
		contentAll.push(post.content);
		if(contentAll.join('').toString().indexOf(keyword)==-1){
			return false;
		}else{
			return true;
		}
	}
	
	function increment(){
		startNum = endNum; //let next startNum equals last endNum
		pageNum++;
		endNum+=perPageItem*pageNum;
	}
	
</script>
			</div>
		</div>

		<label for="sidebar-checkbox" class="sidebar-toggle"></label>

		<script>
			(function(document) {
				var toggle = document.querySelector('.sidebar-toggle');
				var sidebar = document.querySelector('#sidebar');
				var checkbox = document.querySelector('#sidebar-checkbox');

				document.addEventListener('click', function(e) {
					var target = e.target;
					if(!checkbox.checked ||
						sidebar.contains(target) ||
						(target === checkbox || target === toggle)) return;

					checkbox.checked = false;
				}, false);
				
				var article = document.getElementById('articles');
				var isExpanded = article.getAttribute('expanded');
				var categoryName = document.getElementsByName('category-name');
				article.addEventListener('click', function(e) {
					if(isExpanded){
						isExpanded = false;
						for (var i=0;i<categoryName.length;i++){
							categoryName[i].setAttribute('class','sidebar-nav-item category-name-hide');
						}					
					}else{
						isExpanded = true;
						for (var i=0;i<categoryName.length;i++){
							categoryName[i].setAttribute('class','sidebar-nav-item category-name-show');
						}
					}
				}, false);
			})(document);
			$('#search-btn').on('click',function(){
				$('#search-bar').submit();
			});
		</script>
	<script src="/public/js/typeahead-custom.js"></script>
	</body>

</html>